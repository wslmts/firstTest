<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
</head>
<body>
<div id="mytree"></div>
<script>
    var dic = {
        "0": {pid: -1, cn: '本书目录'}
        , "1": {pid: 0, cn: '第1章 JavaScript概述' }
        , "2": {pid: 0, cn: '第2章 用JavaScript验证表单'}
        , "11": {pid: 1, cn: '1.1 认识JavaScript'}
        , "12": {pid: 1, cn: '1.2 配置JavaScript开发环境'}
        , "3": {pid: 0, cn: '第3章 JavaScript实现的照片展示'}
        , "21": {pid: 2, cn: '2.1  最简单的表单验证 – 禁止空白的必填项目'}
        , "22": {pid: 2, cn: '2.2  处理各种类型的表单元素'}
        , "23": {pid: 2, cn: '2.3  输入的邮箱地址正确吗？用正则来校验复杂的格式要求'}
        , "24": {pid: 2, cn: '2.4  改善用户体验'}
        , "31": {pid: 3, cn: '3.1  功能设计'}
        , "32": {pid: 3, cn: '3.2  照片加载与定位'}
        , "33": {pid: 3, cn: '3.3  响应鼠标动作'}
    }
    for(var i in dic){
        if(dic[i]!=undefined){
            var pid=dic[i].pid;
            if(dic[pid]){
                dic[pid].child||(dic[pid].child=[]);
                dic[pid].child.push(i);
            }
        }
    }
    var tree=function(root,pid){
        var ul=document.createElement('ul');
        for(var i in dic){
            if(dic[i].pid==pid){
                var li=document.createElement('li');
                li.innerHTML='<a>'+dic[i].cn+'</a>';
                ul.appendChild(li);
                if(dic[i].child&&dic[i].child.length>0){
                    tree(li,i+"");
                }
            }
        }
        root.appendChild(ul);
    }
   tree(document.getElementById("mytree"),-1);
</script>
</body>
</html>