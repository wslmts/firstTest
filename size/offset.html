<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="../jquery.js"></script>
    <style>
        *{
            margin:0;
            padding:0
        }
        body{
            margin:10px;
            padding: 10px;
            border:5px solid #ff0;
        }
       </style>
</head>
<body>
<div id="wrap" style="width: 300px;position: absolute;padding:10px;margin:10px;border:red 2px solid">
    <span></span>
    <div style="padding:10px;margin:10px;border:red 2px solid;visibility: hidden;">
        <div id="long" style="border: 1px solid green;padding:10px;;margin:10px;">Long span that wraps within this div.</div>
    </div>
</div>

<div id="box" style="position: absolute; border:red 2px solid;z-index: 10">
</div>

<script>
    var wrap = document.getElementById("wrap");
    var box = document.getElementById("box");
    var long = document.getElementById("long");
 //  console.log(wrap.offsetParent)
  //  console.log(long.offsetParent)
    document.writeln('<br/>');
   // console.log('offsetLeft:',long.offsetLeft," offsetTop:",long.offsetTop)
    document.writeln('dom offsetLeft:',wrap.offsetLeft,"dom  offsetTop:",wrap.offsetTop);
    document.writeln('<br/>');
    document.writeln('jq offsetLeft:',$("#wrap").position().left,"jq  offsetTop:",$("#wrap").position().top);
    document.writeln('<br/>');
    document.writeln('dom offsetLeft:',long.offsetLeft,"dom  offsetTop:",long.offsetTop);
    /*box.style.left = long.offsetLeft + document.body.scrollLeft + "px";
    box.style.top = long.offsetTop + document.body.scrollTop + "px";
    box.style.width = long.offsetWidth + "px";
    box.style.height = long.offsetHeight + "px";*/

    document.writeln('<br/>');
    document.writeln('jq offsetLeft:',$("#long").position().left,"jq  offsetTop:",$("#long").position().top);
    document.writeln('<br/>');
    document.writeln('dom  :',long.getBoundingClientRect().left,"dom  offsetTop:",long.getBoundingClientRect().top);
    document.writeln('<br/>');
    document.writeln('jq offsetLeft:',$("#long").offset().left,"jq  offsetTop:",$("#long").offset().top);
</script>
</body>
</html>